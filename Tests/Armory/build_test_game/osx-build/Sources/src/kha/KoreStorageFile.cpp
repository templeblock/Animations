// Generated by Haxe 3.4.4
#include <hxcpp.h>

#ifndef INCLUDED_haxe_io_Bytes
#include <haxe/io/Bytes.h>
#endif
#ifndef INCLUDED_kha_KoreStorageFile
#include <kha/KoreStorageFile.h>
#endif
#ifndef INCLUDED_kha_Resource
#include <kha/Resource.h>
#endif
#ifndef INCLUDED_kha_StorageFile
#include <kha/StorageFile.h>
#endif
#ifndef INCLUDED_kha_internal_BytesBlob
#include <kha/internal/BytesBlob.h>
#endif

HX_DEFINE_STACK_FRAME(_hx_pos_a545a8f72e3f5b8a_17_new,"kha.KoreStorageFile","new",0x83f3fdc8,"kha.KoreStorageFile.new","kha/Storage.hx",17,0xdfc36dce)
HX_LOCAL_STACK_FRAME(_hx_pos_a545a8f72e3f5b8a_30_read,"kha.KoreStorageFile","read",0xf42ed8ee,"kha.KoreStorageFile.read","kha/Storage.hx",30,0xdfc36dce)
HX_LOCAL_STACK_FRAME(_hx_pos_a545a8f72e3f5b8a_38_writeInternal,"kha.KoreStorageFile","writeInternal",0xaaee06a4,"kha.KoreStorageFile.writeInternal","kha/Storage.hx",38,0xdfc36dce)
HX_LOCAL_STACK_FRAME(_hx_pos_a545a8f72e3f5b8a_43_write,"kha.KoreStorageFile","write",0x9e6dc447,"kha.KoreStorageFile.write","kha/Storage.hx",43,0xdfc36dce)
HX_LOCAL_STACK_FRAME(_hx_pos_a545a8f72e3f5b8a_49_createBlob,"kha.KoreStorageFile","createBlob",0x9e94ce11,"kha.KoreStorageFile.createBlob","kha/Storage.hx",49,0xdfc36dce)
HX_LOCAL_STACK_FRAME(_hx_pos_a545a8f72e3f5b8a_53_unused,"kha.KoreStorageFile","unused",0xef3abcae,"kha.KoreStorageFile.unused","kha/Storage.hx",53,0xdfc36dce)
namespace kha{

void KoreStorageFile_obj::__construct(::String name){
            	HX_STACKFRAME(&_hx_pos_a545a8f72e3f5b8a_17_new)
HXDLIN(  17)		this->name = name;
            	}

Dynamic KoreStorageFile_obj::__CreateEmpty() { return new KoreStorageFile_obj; }

void *KoreStorageFile_obj::_hx_vtable = 0;

Dynamic KoreStorageFile_obj::__Create(hx::DynamicArray inArgs)
{
	hx::ObjectPtr< KoreStorageFile_obj > _hx_result = new KoreStorageFile_obj();
	_hx_result->__construct(inArgs[0]);
	return _hx_result;
}

bool KoreStorageFile_obj::_hx_isInstanceOf(int inClassId) {
	if (inClassId<=(int)0x32e6bd20) {
		return inClassId==(int)0x00000001 || inClassId==(int)0x32e6bd20;
	} else {
		return inClassId==(int)0x5d721dd3;
	}
}

 ::kha::internal::BytesBlob KoreStorageFile_obj::read(){
            	HX_STACKFRAME(&_hx_pos_a545a8f72e3f5b8a_30_read)
            	
		Kore::FileReader reader;
		if (!reader.open(name, Kore::FileReader::Save)) return null();
		 ::kha::internal::BytesBlob blob = createBlob(reader.size());
		for (int i = 0; i < reader.size(); ++i) {
			blob->bytes->b->Pointer()[i] = reader.readU8();
		}
		return blob;
	

HXDLIN(  30)		return null();
            	}


void KoreStorageFile_obj::writeInternal( ::kha::internal::BytesBlob data){
            	HX_STACKFRAME(&_hx_pos_a545a8f72e3f5b8a_38_writeInternal)
            	
		Kore::FileWriter writer;
		if (!writer.open(name)) return;
		writer.write(data->bytes->b->Pointer(), data->get_length());
	

            	}


HX_DEFINE_DYNAMIC_FUNC1(KoreStorageFile_obj,writeInternal,(void))

void KoreStorageFile_obj::write( ::kha::internal::BytesBlob data){
            	HX_STACKFRAME(&_hx_pos_a545a8f72e3f5b8a_43_write)
HXDLIN(  43)		if (hx::IsNotNull( data )) {
HXLINE(  44)			this->writeInternal(data);
            		}
            	}


 ::kha::internal::BytesBlob KoreStorageFile_obj::createBlob(int size){
            	HX_STACKFRAME(&_hx_pos_a545a8f72e3f5b8a_49_createBlob)
HXDLIN(  49)		return ::kha::internal::BytesBlob_obj::alloc(size);
            	}


STATIC_HX_DEFINE_DYNAMIC_FUNC1(KoreStorageFile_obj,createBlob,return )

void KoreStorageFile_obj::unused(){
            	HX_STACKFRAME(&_hx_pos_a545a8f72e3f5b8a_53_unused)
HXDLIN(  53)		::haxe::io::Bytes_obj::alloc((int)0);
            	}


STATIC_HX_DEFINE_DYNAMIC_FUNC0(KoreStorageFile_obj,unused,(void))


hx::ObjectPtr< KoreStorageFile_obj > KoreStorageFile_obj::__new(::String name) {
	hx::ObjectPtr< KoreStorageFile_obj > __this = new KoreStorageFile_obj();
	__this->__construct(name);
	return __this;
}

hx::ObjectPtr< KoreStorageFile_obj > KoreStorageFile_obj::__alloc(hx::Ctx *_hx_ctx,::String name) {
	KoreStorageFile_obj *__this = (KoreStorageFile_obj*)(hx::Ctx::alloc(_hx_ctx, sizeof(KoreStorageFile_obj), true, "kha.KoreStorageFile"));
	*(void **)__this = KoreStorageFile_obj::_hx_vtable;
	__this->__construct(name);
	return __this;
}

KoreStorageFile_obj::KoreStorageFile_obj()
{
}

void KoreStorageFile_obj::__Mark(HX_MARK_PARAMS)
{
	HX_MARK_BEGIN_CLASS(KoreStorageFile);
	HX_MARK_MEMBER_NAME(name,"name");
	HX_MARK_END_CLASS();
}

void KoreStorageFile_obj::__Visit(HX_VISIT_PARAMS)
{
	HX_VISIT_MEMBER_NAME(name,"name");
}

hx::Val KoreStorageFile_obj::__Field(const ::String &inName,hx::PropertyAccess inCallProp)
{
	switch(inName.length) {
	case 4:
		if (HX_FIELD_EQ(inName,"name") ) { return hx::Val( name ); }
		if (HX_FIELD_EQ(inName,"read") ) { return hx::Val( read_dyn() ); }
		break;
	case 5:
		if (HX_FIELD_EQ(inName,"write") ) { return hx::Val( write_dyn() ); }
		break;
	case 13:
		if (HX_FIELD_EQ(inName,"writeInternal") ) { return hx::Val( writeInternal_dyn() ); }
	}
	return super::__Field(inName,inCallProp);
}

bool KoreStorageFile_obj::__GetStatic(const ::String &inName, Dynamic &outValue, hx::PropertyAccess inCallProp)
{
	switch(inName.length) {
	case 6:
		if (HX_FIELD_EQ(inName,"unused") ) { outValue = unused_dyn(); return true; }
		break;
	case 10:
		if (HX_FIELD_EQ(inName,"createBlob") ) { outValue = createBlob_dyn(); return true; }
	}
	return false;
}

hx::Val KoreStorageFile_obj::__SetField(const ::String &inName,const hx::Val &inValue,hx::PropertyAccess inCallProp)
{
	switch(inName.length) {
	case 4:
		if (HX_FIELD_EQ(inName,"name") ) { name=inValue.Cast< ::String >(); return inValue; }
	}
	return super::__SetField(inName,inValue,inCallProp);
}

void KoreStorageFile_obj::__GetFields(Array< ::String> &outFields)
{
	outFields->push(HX_HCSTRING("name","\x4b","\x72","\xff","\x48"));
	super::__GetFields(outFields);
};

#if HXCPP_SCRIPTABLE
static hx::StorageInfo KoreStorageFile_obj_sMemberStorageInfo[] = {
	{hx::fsString,(int)offsetof(KoreStorageFile_obj,name),HX_HCSTRING("name","\x4b","\x72","\xff","\x48")},
	{ hx::fsUnknown, 0, null()}
};
static hx::StaticInfo *KoreStorageFile_obj_sStaticStorageInfo = 0;
#endif

static ::String KoreStorageFile_obj_sMemberFields[] = {
	HX_HCSTRING("name","\x4b","\x72","\xff","\x48"),
	HX_HCSTRING("read","\x56","\x4b","\xa7","\x4b"),
	HX_HCSTRING("writeInternal","\x3c","\x07","\x18","\xec"),
	HX_HCSTRING("write","\xdf","\x6c","\x59","\xd0"),
	::String(null()) };

static void KoreStorageFile_obj_sMarkStatics(HX_MARK_PARAMS) {
	HX_MARK_MEMBER_NAME(KoreStorageFile_obj::__mClass,"__mClass");
};

#ifdef HXCPP_VISIT_ALLOCS
static void KoreStorageFile_obj_sVisitStatics(HX_VISIT_PARAMS) {
	HX_VISIT_MEMBER_NAME(KoreStorageFile_obj::__mClass,"__mClass");
};

#endif

hx::Class KoreStorageFile_obj::__mClass;

static ::String KoreStorageFile_obj_sStaticFields[] = {
	HX_HCSTRING("createBlob","\x79","\xfe","\xa6","\x53"),
	HX_HCSTRING("unused","\x16","\x99","\x82","\x6b"),
	::String(null())
};

void KoreStorageFile_obj::__register()
{
	hx::Object *dummy = new KoreStorageFile_obj;
	KoreStorageFile_obj::_hx_vtable = *(void **)dummy;
	hx::Static(__mClass) = new hx::Class_obj();
	__mClass->mName = HX_HCSTRING("kha.KoreStorageFile","\xd6","\xb9","\xa7","\x2c");
	__mClass->mSuper = &super::__SGetClass();
	__mClass->mConstructEmpty = &__CreateEmpty;
	__mClass->mConstructArgs = &__Create;
	__mClass->mGetStaticField = &KoreStorageFile_obj::__GetStatic;
	__mClass->mSetStaticField = &hx::Class_obj::SetNoStaticField;
	__mClass->mMarkFunc = KoreStorageFile_obj_sMarkStatics;
	__mClass->mStatics = hx::Class_obj::dupFunctions(KoreStorageFile_obj_sStaticFields);
	__mClass->mMembers = hx::Class_obj::dupFunctions(KoreStorageFile_obj_sMemberFields);
	__mClass->mCanCast = hx::TCanCast< KoreStorageFile_obj >;
#ifdef HXCPP_VISIT_ALLOCS
	__mClass->mVisitFunc = KoreStorageFile_obj_sVisitStatics;
#endif
#ifdef HXCPP_SCRIPTABLE
	__mClass->mMemberStorageInfo = KoreStorageFile_obj_sMemberStorageInfo;
#endif
#ifdef HXCPP_SCRIPTABLE
	__mClass->mStaticStorageInfo = KoreStorageFile_obj_sStaticStorageInfo;
#endif
	hx::_hx_RegisterClass(__mClass->mName, __mClass);
}

} // end namespace kha
